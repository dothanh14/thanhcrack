<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ThanhCrack – Game Hub</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4053699777471766"
     crossorigin="anonymous"></script>
</head>
<body>
  <header class="header">
    <div class="container">
      <a href="./index.html" class="logo">ThanhCrack</a>
      <nav class="nav">
        <a href="./games.html">Games</a>
        <a href="./admin/">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Chào mừng đến với ThanhCrack</h1>
    <p>Website chia sẻ game miễn phí, an toàn và hợp pháp. Bạn có thể duyệt danh sách game, xem chi tiết, và tải về trực tiếp. Một phần link rút gọn giúp ủng hộ duy trì website.</p>

    <!-- Google AdSense Banner -->
    <ins class="adsbygoogle"
         style="display:block; text-align:center; margin: 20px auto;"
         data-ad-client="ca-pub-4053699777471766"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

    <h2>Game nổi bật</h2>
    <div id="featured" class="grid"></div>
    <p><a class="btn primary" href="./games.html">Xem tất cả game</a></p>
  </main>

  <footer>© 2025 ThanhCrack. Chia sẻ vì cộng đồng, không chứa nội dung vi phạm bản quyền.</footer>

  <script>
    async function loadFeatured() {
      try {
        const res = await fetch('data/games.json', { cache: 'no-store' });
        const data = await res.json();
        const featured = document.getElementById('featured');
        const items = (data.items || []).slice(0, 6);

        featured.innerHTML = items.map(g => `
          <article class="card">
            ${g.thumb ? `<img src="${g.thumb}" alt="${g.title}">` : ''}
            <h3>${g.title}</h3>
            <p>${g.excerpt || ''}</p>
            <a class="btn" href="game.html?id=${encodeURIComponent(g.slug)}">Xem chi tiết</a>
          </article>
        `).join('');
      } catch (e) {
        console.error('Lỗi tải danh sách game:', e);
      }
    }
    loadFeatured();
  </script>
</body>
</html>
